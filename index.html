<!DOCTYPE html>
<html lang="en">
<head>	

     <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.min.js"></script>

	<!-- Google tag (gtag.js) -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5REZTEC3DL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5REZTEC3DL');
</script>
<meta name="description" content="A Music Site">
<meta charset="UTF-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Music Now V2.0</title>
  <link rel="icon" href="./icon.png">
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="./styles/page.css">


  <link rel="stylesheet" href="./styles/player.css">
  <link rel="stylesheet" href="./styles/itemsSmall.css">


  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <script async src="https://cse.google.com/cse.js?cx=978c9172bae974bd2">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js" integrity="sha512-YsR46MmyChktsyMMou+Bs74oCa/CDdwft7rJ5wlnmDzMj1mzqncsfJamEEf99Nk7IB0JpTMo5hS8rxB49FUktQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<style>

::-webkit-scrollbar {
  width: 15px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #232323;

}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: rgb(66, 66, 66); 
  border-radius: 10px;

}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #878787; 
}

body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

* {
  box-sizing: border-box;
}

</style>
<body onresize="sizePages()">

<div style="" class="nav">
  <img src="./icon.png" class="navicon" style="">
  <span class="material-icons" onclick="toggleQueue()" style="cursor: pointer; position: absolute; top: 50%; transform: translate(-0%, -50%); right: 20px; font-size: 25px;">
    queue_music
    </span>
    <span class="material-icons" onclick="toggleEQ()" style="cursor: pointer; position: absolute; top: 50%; transform: translate(-0%, -50%); right: 50px; font-size: 25px;">
      discover_tune
      </span>
  
</div>

<!--PLAYER-->


<audio  id="Paudio">
  <source src="" type="audio/mpeg">
</audio>




<div class="Player" id="MusicPlayer">
  <img src="./assets/covers/cover.png" class="playericon" id="Playericon">
  <p id="SongName" class="title">No Song Selected</p>
  <p id="Artist" class="ar"></p>

  <div class="controls">
    <span id="cs_play_pause_btn" class="PlayBTN" onclick="playpause()" style="">

        <i class="material-icons PlayI" style="" id="audio_play">play_circle</i>
        <i class="material-icons PlayI" style="" id="audio_pause">pause_circle</i>
      
    </span>

    <span id="loop3" class="loop" onclick="toggleL()" style="">

      <i class="material-icons PlayI" style="" id="loop2">repeat</i>
      <i class="material-icons PlayI" style="color: #b8b8b8;" id="loop">repeat_on</i>

    </span>
    <span id="next" class="loop" onclick="handleNext()" style="">

      <i class="material-icons PlayI" style="">skip_next</i>

    </span>
  </div>
  
<div id="progress-container">
  <p id="curtime" class="timeCur">00:00</p>
  <p id="totaltime" class="timetotal">00:00</p>

  <div id="progress-bar"></div>
</div>

<div class="rightPart">
  <div class="volume-slider-container">
    
    <div class="volume-slider">
        <input type="range" min="0" max="1" step="0.01" value="1" id="volumeRange">
    </div>
</div>
</div>

</div>
<script src="./Player.js"></script>



<!--script>

  var cov = document.getElementById('albumcover');
  cov.style.opacity = 0;
  setTimeout(() => {
    if (imggg.includes(".")) {
    cov.src =  'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/' + imggg + '?raw=true'
    covver = 'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/' + imggg + '?raw=true';
  }
  else if (imggg.includes("2pac")) {
    cov.src =  'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/alle.jpeg?raw=true';
    covver = 'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/alle.jpeg?raw=true';
  }
  else if(imggg.includes("test")) {
   


  }
  
  else
  {
  cov.onerror = () => {
 
      cov.src = 'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/' + imggg + '.jpeg?raw=true'
    covver = 'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/' + imggg + '.jpeg?raw=true';
    console.log('jpeg has been found');
 

  }

  cov.src = 'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/' + imggg + '.png?raw=true'
 
 covver = 'https://github.com/Mr-funkinguy/Music-Player-/blob/main/albums/' + imggg + '.png?raw=true';
 console.log('png has been found');

  
 

  }
  const artist = audio_id.artist || audio_id.getAttribute('artist');
    console.log(artist);
cov.onload = function() {

  if ("mediaSession" in navigator) {
    navigator.mediaSession.metadata = new MediaMetadata({
     
      title: name,
      artist: '',
      album: '',
      artwork: [
        { src: covver,   sizes: '96x96',   type: 'image/png' },
        { src: covver, sizes: '128x128', type: 'image/png' },
        { src: covver, sizes: '192x192', type: 'image/png' },
        { src: covver, sizes: '256x256', type: 'image/png' },
        { src: covver, sizes: '384x384', type: 'image/png' },
        { src: covver, sizes: '512x512', type: 'image/png' },
      ]
    });
  }
else {
	 navigator.mediaSession.metadata = new MediaMetadata({
      title: name,
      artist: '',
      album: '',
      artwork: [
        { src: covver,   sizes: '96x96',   type: 'image/png' },
        { src: covver, sizes: '128x128', type: 'image/png' },
        { src: covver, sizes: '192x192', type: 'image/png' },
        { src: covver, sizes: '256x256', type: 'image/png' },
        { src: covver, sizes: '384x384', type: 'image/png' },
        { src: covver, sizes: '512x512', type: 'image/png' },
      ]
    });
}
cov.style.opacity = 1;
    
};
	  

  
	  
  }, 200);
	

 console.log(cov.src);

  



</script-->

<!-------------------------------->
<script src="./Load.js"></script>
<script src="./animation.js"></script>

   <!--BODY-->

   <!--Queue UI-->
<div id="QUEUEUI" style="display: none;" class="queueUI">
  <div class="BGMANUSTYKE">
    <h1 style="right: -10px; font-size: 25px; position: relative; width: max-content;">Queue</h1>
  </div>
  <div id="queueSongs">

  </div>
</div>

<div style="display: none;" id="EQMenu">
  
    <h1 style="text-align: center; font-size: 20px;">Equalizer (EQ)</h1>
    <!-- EQ sliders for specific frequencies -->
    <div class="slider-container"  id="sliderCONT">
      
      <div>
          <label class="LABELFOREQ" id="freq32Slider">32 Hz:</label>
          <input type="range" class="SLIDERE" id="freq32Slider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq64Slider">64 Hz:</label>
          <input type="range" class="SLIDERE" id="freq64Slider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq125Slider">125 Hz:</label>
          <input type="range" class="SLIDERE" id="freq125Slider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq250Slider">250 Hz:</label>
          <input type="range" class="SLIDERE" id="freq250Slider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq500Slider">500 Hz:</label>
          <input type="range" class="SLIDERE" id="freq500Slider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq1kSlider">1K kHz:</label>
          <input type="range" class="SLIDERE" id="freq1kSlider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq2kSlider">2K kHz:</label>
          <input type="range" class="SLIDERE" id="freq2kSlider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq4kSlider">4K kHz:</label>
          <input type="range" class="SLIDERE" id="freq4kSlider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq8kSlider">8K kHz:</label>
          <input type="range" class="SLIDERE" id="freq8kSlider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>

      <div>
          <label class="LABELFOREQ" id="freq16kSlider">16K kHz:</label>
          <input type="range" class="SLIDERE" id="freq16kSlider" min="-20" max="20" step="0.1" value="0" data-index="0">
      </div>
  </div>

    <!-- Reset button -->
    <button style="border: solid 3px gray; color: white; cursor: pointer; position: relative; left: 50%; transform: translate(-50%, -0%); width: 90%; height: 50px; border-radius: 15px; background-color: #232323;" id="resetButton">Reset to Default</button>
    <br>

</div>


  <div style="width: 100%; display: none; overflow-y: auto;" id="browse">
      <span onclick="movePage('browse', 'Home')"  class="material-icons"  style="background-color: #1d1d1dcf; padding: 2px; border-radius: 15px; z-index: 30; cursor: pointer;  font-size: 25px;  left: 10px; top: 10px;  color: white;  position: relative;">  
        arrow_back
    </span>
    <br>
      <br>
      <input class="browseTBOX" oninput="searchFUNCTION()" placeholder="Search..." value="" id="searchB">
      <div id="songs6">
      
      </div>
      <div id="noRESULT" style="display: none; position: absolute; transform: translate(-50%, -50%); left: 50%; top: 50%;">
        <p>No Results Found:</p>
      </div>
  
    <script>
   

      // Get the input field and element container
      var searchInput = document.getElementById('searchB');
      var elementContainer = document.getElementById('songs6')

      // Add an event listener to the search input

      function searchFUNCTION() {
        const searchText = searchInput.value.toLowerCase();
        const items = document.getElementsByClassName('item');

// Loop through all items
for (let i = 0; i < items.length; i++) {
  const item = items[i];
  const itemText = item.textContent.toLowerCase();

  // Check if the item's text contains the search text
  if (itemText.includes(searchText)) {
    item.style.display = 'block'; // Display the item
  } else {
    item.style.display = 'none'; // Hide the item
  }
}
      }



    </script>
 </div>

<!--AlbumPG-->
<div style="width: 100%; position: relative; display: none; overflow-y: auto; " id="albumPG">
  <span onclick="movePage('albumPG', 'Home')"  class="material-icons"  style="background-color: #1d1d1dcf; padding: 2px; border-radius: 15px; z-index: 30; cursor: pointer;  font-size: 25px;  left: 10px; top: 10px;  color: white;  position: relative;">  
    arrow_back
</span>
<br>
<br>
<div id="ALBUMSANDSTUFF"></div>
  <br id="moveBack">
  <br>
  <br>
  <div style="z-index: 2;" id="albumSongs">
  
  
  </div>
  
</div>


  <!--Home-->
  <div style="width: 100%; position: relative;  overflow-y: auto;" id="Home">
    <br>
    
    <button onclick="moveBR2('Home', 'browse', './master.json', 'songs6', true)" class="homeOP">Browse</button>
    <br>
    <br>
    <h1 class="MenuSections">Featured Albums</h1>
    <div id="headers" style="overflow-x: scroll; display: flex; overflow-y: hidden; position: relative; width: 100%; height: 40%;">
    
    </div>
    <br>
    <h1 class="MenuSections">Featured Singles</h1>

    <div id="Singles" style="overflow-x: auto; overflow-y: hidden; position: relative; width: 100%; height: 40%;">
    
    </div>
      <script>
     
  
        itemsAdd('./home.json', 'headers')
       
      </script>
  </div>
						     

   <!--Main-->

  <script src="./main.js"> 
  
  </script>

 
  <script src="./mediaSession.js"> 
    
  </script>


<!--CONTEXT MENU-->
<style>
  #context-menu {
  display: none;
  position: absolute;
  background-color: #333333;
  border-radius: 15px;
  border: 1px solid #686868;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
  list-style: none;
  padding: 0;
  z-index: 50;
}

#context-menu ul {
  margin: 0;
  padding: 0;
  transition: 0.5s;

}

#context-menu li {
  padding: 8px 20px;
  transition: 0.5s;

  cursor: pointer;
}

#context-menu li:hover {
  border-radius: 15px;
  background-color: #565656;
}

</style>

<div id="context-menu">
  <p style="display: none;" id="menuELEname"></p>
  <li id="playnext">Add To Queue</li>

  <li id="menu-item-2">Debug Item</li>
</div>

<script>
let clickedElement = null;
var isOpen = false;
const contextMenu = document.getElementById('context-menu');
const menuItems = contextMenu.querySelectorAll('li');
const contextElements = document.querySelectorAll('.item');

document.addEventListener('contextmenu', function (e) {
  if (e.target.classList.contains('item')) {
    e.preventDefault();
    if(isOpen===true) {
      contextMenu.style.display = 'none';
      isOpen=false;

    }
    setTimeout(() => {
      contextMenu.style.left = `${e.pageX}px`;
      contextMenu.style.top = `${e.pageY}px`;
      contextMenu.style.display = 'block';
      isOpen=true
    }, 200);
    //contextMenu.style.display = 'block';

    clickedElement = e.target;
    document.getElementById('menuELEname').innerHTML = clickedElement.id
  } else {
    contextMenu.style.display = 'none';
  }
});

menuItems.forEach((item) => {
  item.addEventListener('click', function () {
    switch (item.id) {
      case 'playnext':
        addToQ(clickedElement.id)
        break;
      case 'menu-item-2':
      
        break;

    }
    
    contextMenu.style.display = 'none';
  });
});

document.addEventListener('click', function () {
  contextMenu.style.display = 'none';
});

</script>
<script src="./EQ.js"></script>

</body>
</html>